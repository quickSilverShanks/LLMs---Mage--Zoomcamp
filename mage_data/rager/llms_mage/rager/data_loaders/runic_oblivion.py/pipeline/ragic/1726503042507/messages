{"result_id": "d7258de652dd4db9b10f82cb81316bf5", "data_type": null, "error": null, "metadata": {"namespace": "pipeline/ragic", "path": "llms_mage/rager/data_loaders/runic_oblivion.py", "uuid": "1726503042507", "block_type": "data_loader", "block_uuid": "runic_oblivion", "execution_partition": null, "pipeline_uuid": "ragic"}, "output": "", "process": {"data": [], "exitcode": null, "is_alive": false, "internal_state": "INIT", "kernel_uuid": "runic_oblivion", "message": "import requests\nimport json\nfrom typing import List, Dict\nif 'data_loader' not in globals():\n    from mage_ai.data_preparation.decorators import data_loader\nif 'test' not in globals():\n    from mage_ai.data_preparation.decorators import test\n\n\n@data_loader\ndef ingest_api_data(*args, **kwargs) -> List[Dict]:\n    \"\"\"\n    Template for loading data from an API.\n    Fetch data from external API using the provided configurations.\n\n    Args:\n        *args: Variable length argument list.\n        **kwargs: Arbitrary keyword arguments.\n\n    Keyword Args:\n        endpoint (str): API endpoint URL.\n        auth_token (str): Authentication token for the API.\n        method (str): HTTP method to use (GET, POST, etc.).\n        timeout (int): Request timeout in seconds.\n    \"\"\"\n    endpoint = kwargs.get('endpoint')\n    auth_token = kwargs.get('auth_token')\n    method = kwargs.get('method', 'GET')\n    timeout = kwargs.get('timeout', 30)\n\n    headers = {}\n    if auth_token:\n        headers['Authorization'] = f\"Bearer {auth_token}\"\n\n    response = requests.request(\n        method=method,\n        url=endpoint or  '',\n        headers=headers,\n        timeout=timeout\n    )\n    response.raise_for_status()\n\n    return [response.json()]\n\n\n@test\ndef test_output(output, *args) -> None:\n    \"\"\"\n    Template code for testing the output of the block.\n    \"\"\"\n    assert output is not None, 'The output is undefined'", "message_request_uuid": "1726503042507", "message_uuid": "70c817631ff7482e9cb36007c43b4e47", "output_manager": {"namespace": "pipeline/ragic", "path": "llms_mage/rager/data_loaders/runic_oblivion.py", "uuid": "1726503042507"}, "pid": "70c817631ff7482e9cb36007c43b4e47", "pid_spawn": null, "source": "runic_oblivion", "stream": "code_executions", "timestamp": null, "timestamp_end": null, "uuid": "runic_oblivion"}, "status": "success", "type": "output", "uuid": "runic_oblivion", "timestamp": 1726503085960, "output_text": ""}
